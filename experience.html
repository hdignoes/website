<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Experience — Hugo Dignoes Ricart</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <style>
    /* ── current badge ── */
    .badge-current {
      display: inline-block;
      font-size: .7rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: .07em;
      padding: .18rem .6rem;
      border-radius: 20px;
      background: #e8f8f5;
      color: #0e7a65;
      border: 1px solid #a2d9ce;
      margin-left: .5rem;
      vertical-align: middle;
    }

    /* ── year heading ── */
    .year-group { margin-bottom: 3rem; }
    .year-label {
      font-size: .8rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: .1em;
      color: var(--teal);
      margin-bottom: 1.2rem;
      padding-left: 2.8rem;
    }
  </style>
</head>
<body>

<!-- ── NAV ──────────────────────────────────────────────────────── -->
<nav>
  <div class="nav-inner">
    <a href="index.html" style="text-decoration:none">
      <div class="nav-brand">
        <span class="nav-brand-name">Hugo Dignoes Ricart</span>
        <span class="nav-brand-role">PhD Student · Chemical Engineering · UBC</span>
      </div>
    </a>
    <ul class="nav-menu">
      <li><a href="index.html">About</a></li>
      <li><a href="experience.html" class="active">Experience</a></li>
      <li><a href="projects.html">Projects</a></li>
      <li><a href="writing.html">Writing</a></li>
      <li><a href="contact.html">Contact</a></li>
    </ul>
  </div>
</nav>

<!-- ── PAGE HEADER ───────────────────────────────────────────────── -->
<header class="page-header">
  <div class="container">
    <h1><i class="fa-solid fa-briefcase" style="margin-right:.6rem;opacity:.7"></i>Experience</h1>
    <p class="subtitle">
      Nine roles across research, process engineering, product management, and student leadership —
      spanning academia, start-ups, and non-profits.
    </p>
  </div>
</header>

<!-- ── TIMELINE ──────────────────────────────────────────────────── -->
<section class="section" style="background: var(--bg);">
  <div class="container">
    <!-- rendered from content/experience.js -->
    <div class="timeline" id="timeline">
      <!-- populated by render script below -->
    </div><!-- /.timeline -->
  </div>
</section>

<!-- ── FOOTER ────────────────────────────────────────────────────── -->
<footer id="site-footer"></footer>

<!-- ── CONTENT DATA ──────────────────────────────────────────────── -->
<script src="content/profile.js"></script>
<script src="content/experience.js"></script>

<!-- ── RENDER ────────────────────────────────────────────────────── -->
<script>
(function () {
  // ── Timeline ───────────────────────────────────────────────────
  document.getElementById('timeline').innerHTML = EXPERIENCE.map(e => {
    const isCurrent   = e.dateEnd === null;
    const dateDisplay = isCurrent ? `${e.dateStart} – Present` : `${e.dateStart} – ${e.dateEnd}`;
    return `
      <div class="timeline-item">
        <div class="timeline-dot"></div>
        <div class="timeline-card">
          <div class="timeline-header">
            <div>
              <span class="timeline-title">${e.title}</span>
              ${isCurrent ? '<span class="badge-current">Current</span>' : ''}
            </div>
            <span class="timeline-date">${dateDisplay}</span>
          </div>
          <div class="timeline-company">
            <a href="${e.companyUrl}" target="_blank" rel="noopener">
              <i class="fa-solid fa-arrow-up-right-from-square" style="font-size:.75em;margin-right:.3rem"></i>
              ${e.company}
            </a>
          </div>
          ${e.location ? `<div class="timeline-location"><i class="fa-solid fa-location-dot"></i>${e.location}</div>` : ''}
          <div class="timeline-desc">
            <ul>${e.bullets.map(b => `<li>${b}</li>`).join('')}</ul>
          </div>
        </div>
      </div>`;
  }).join('');

  // ── Footer ─────────────────────────────────────────────────────
  document.getElementById('site-footer').innerHTML =
    `<p>&copy; ${new Date().getFullYear()} ${PROFILE.name} &nbsp;·&nbsp; ${PROFILE.location} &nbsp;·&nbsp;
      <a href="mailto:${PROFILE.email}">${PROFILE.email}</a></p>`;
})();
</script>

</body>
</html>
